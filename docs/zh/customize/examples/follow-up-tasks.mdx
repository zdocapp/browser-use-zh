---
title: "后续任务"
description: "使用同一浏览器会话执行后续任务。"
icon: "link"
mode: "wide"
---

## 链式代理任务

保持浏览器会话活跃并将多个任务链接在一起。非常适合对话式工作流或多步骤流程。

```python
from dotenv import load_dotenv

from browser_use import Agent, Browser


load_dotenv()

import asyncio


async def main():
	browser = Browser(keep_alive=True)

	await browser.start()

	agent = Agent(task='search for browser-use.', browser_session=browser)
	await agent.run(max_steps=2)
	agent.add_new_task('return the title of first result')
	await agent.run()

	await browser.kill()

asyncio.run(main())
```

## 工作原理

1. **持久化浏览器**: `BrowserProfile(keep_alive=True)` 防止浏览器在任务之间关闭
2. **任务链式调用**: 使用 `agent.add_new_task()` 添加后续任务
3. **上下文保持**: 代理在任务间保持记忆和浏览器状态
4. **交互式流程**: 完美适用于对话式界面
5. **分解长流程**: 如果有非常长的流程，可以保持浏览器活跃并向其发送新代理。

<Note>
浏览器会话在整个链式过程中保持活跃，保留所有 cookie、本地存储和页面状态。
</Note>
